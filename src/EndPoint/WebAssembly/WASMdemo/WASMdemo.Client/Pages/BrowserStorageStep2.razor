@page "/browser_wasm_2"

@rendermode InteractiveWebAssembly
@inject IJSRuntime JSRuntime
@inject ContainerStorage ContainerStorage

<h3>Browser Storage Step2</h3>
<br />
<br />
Browser Session Storage: @data

@code {

    private string data = string.Empty;

    // protected override async Task OnInitializedAsync()
    // {
    //     await base.OnInitializedAsync();

    //     data = await JSRuntime.InvokeAsync<string>("sessionStorage.getItem", "demo-data");
    // }

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            //data = await JSRuntime.InvokeAsync<string>("sessionStorage.getItem", "demo-data");
            data = ContainerStorage.GetMessage();
            StateHasChanged();
        }
    }
}
